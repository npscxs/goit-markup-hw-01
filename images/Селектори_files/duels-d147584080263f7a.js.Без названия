(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6572],{59007:function(t,e,n){"use strict";n.r(e),n.d(e,{__N_SSP:function(){return Yt},default:function(){return te}});var r=n(9008),i=n(67294),o=n(59433),a=n(47560),u=n(83709),c=n(99442),s=n(88767),l=n(76121),d=n(50029),p=n(87794),m=n.n(p),g=n(49099),f=function(){var t=(0,d.Z)(m().mark((function t(){var e;return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,g.nx.get("/duel/getPlayerRating");case 2:return e=t.sent,t.abrupt("return",e.data);case 4:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),h=n(28085),b=function(){var t,e,n=(0,s.useQuery)(l.S8.DuelsRating,f,{select:h.U}),r=n.data,i=n.isLoading;return{topPlaces:null!==(t=null===r||void 0===r?void 0:r.topPlaces)&&void 0!==t?t:[],currentPlaces:null!==(e=null===r||void 0===r?void 0:r.currentPlaces)&&void 0!==e?e:[],isLoading:i}},y=n(30427),v=n(70917),Z=function(){var t=b(),e=t.currentPlaces,n=t.topPlaces,r=t.isLoading,i=(0,c.$G)("duels").t;return(0,v.tZ)(y.i,{rating:{currentPlaces:e,topPlaces:n},isLoading:r,title:i("rank")})},w=n(73450),k=n(11163),x=n(74931),O=n(98066),T=n.n(O),P=n(57557),j=n.n(P),A=n(18127),C=n(51008),S=n(30107),D=n(92905),E=n(57003),G=n(6843),R=(0,G.Z)("div",{target:"e6kmxb30"})("background:#26273f;min-height:calc(100vh - 56px);",(function(t){return t.theme.breakpoints.up("md")}),"{min-height:calc(100vh - 76px);}",(function(t){return t.theme.breakpoints.up("lg")}),"{min-height:calc(100vh - 84px);}"),_=n(25675),L=n(51760),z=n(70557);var q=(0,G.Z)("div",{target:"e11nfhq53"})({name:"bjn8wh",styles:"position:relative"}),H=(0,G.Z)("div",{target:"e11nfhq52"})("background:linear-gradient(0deg, #1b1c30 0%, rgba(27, 28, 48, 0.7) 100%);position:relative;z-index:1;padding:",(function(t){return t.theme.spacing(2.5,2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{padding:",(function(t){return t.theme.spacing(6.5,2,7)}),";}",(function(t){return t.theme.breakpoints.up("lg")}),"{padding:",(function(t){return t.theme.spacing(9,2,4.5)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{padding:",(function(t){return t.theme.spacing(12.5,2,3.5)}),";}"),B=(0,G.Z)("h1",{target:"e11nfhq51"})((function(t){return t.theme.typography("caption")}),";color:",(function(t){return t.theme.palette.brand.main}),";text-align:center;margin-bottom:",(function(t){return t.theme.spacing(1.5)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("caption","md")}),";margin-bottom:",(function(t){return t.theme.spacing(7)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{",(function(t){return t.theme.typography("caption","xl")}),";margin-bottom:",(function(t){return t.theme.spacing(9)}),";}"),I=(0,G.Z)(L.B,{target:"e11nfhq50"})("background:#1f2039;max-width:1070px;margin:0 auto;padding:",(function(t){return t.theme.spacing(1,2,0)}),";",z.OQ,"{text-align:left;}",z.WH,"{padding:0;}",(function(t){return t.theme.breakpoints.up("md")}),"{background:transparent;padding:",(function(t){return t.theme.spacing(5.5,0,0)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{padding:",(function(t){return t.theme.spacing(2,0,0)}),";max-width:1342px;}");var $=(0,G.Z)("ul",{target:"e1ry9o605"})("max-width:1066px;margin:",(function(t){return t.theme.spacing(0,"auto",2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{display:grid;grid-template-columns:1fr 1fr 1fr;border-top:1px solid #3d3f6d;border-bottom:1px solid #3d3f6d;}"),F=(0,G.Z)("li",{target:"e1ry9o604"})("display:flex;align-items:flex-start;gap:",(function(t){return t.theme.spacing(.5)}),";padding:",(function(t){return t.theme.spacing(1,0)}),";border-bottom:1px solid #3d3f6d;",(function(t){return t.theme.typography("body1")}),";color:",(function(t){return t.theme.palette.common.white}),";:first-of-type{border-top:1px solid #3d3f6d;}",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("body1","md")}),";gap:",(function(t){return t.theme.spacing(2)}),";padding:",(function(t){return t.theme.spacing(3)}),";border-bottom:none;:first-of-type{border-top:none;}:nth-of-type(-n + 3){border-bottom:1px solid #3d3f6d;}:not(:nth-of-type(3n)){border-right:1px solid #3d3f6d;}}",(function(t){return t.theme.breakpoints.up("lg")}),"{padding:",(function(t){return t.theme.spacing(3,5.5)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{",(function(t){return t.theme.typography("body1","xl")}),";padding:",(function(t){return t.theme.spacing(2.5,2)}),";}"),M=(0,G.Z)("span",{target:"e1ry9o603"})("min-width:15px;flex-shrink:0;",(function(t){return t.theme.typography("h3")}),";color:",(function(t){return t.theme.palette.brand.main}),";",(function(t){return t.theme.breakpoints.up("md")}),"{min-width:25px;",(function(t){return t.theme.typography("caption","md")}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{min-width:35px;",(function(t){return t.theme.typography("caption","xl")}),";}"),Q=(0,G.Z)("div",{target:"e1ry9o602"})({name:"9th5i",styles:"margin:0 auto"}),N=(0,G.Z)("div",{target:"e1ry9o601"})("width:16px;height:16px;position:relative;margin:",(function(t){return t.theme.spacing(0,"auto",1)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{margin:",(function(t){return t.theme.spacing(0,"auto",1.5)}),";}"),V=(0,G.Z)("p",{target:"e1ry9o600"})((function(t){return t.theme.typography("info400")}),";color:",(function(t){return t.theme.palette.common.white}),";text-align:center;margin:",(function(t){return t.theme.spacing(0,"auto",2.5)}),";max-width:310px;",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("info400","md")}),";margin-bottom:",(function(t){return t.theme.spacing(3)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{margin-bottom:",(function(t){return t.theme.spacing(4)}),";}"),W=n(49505),J=function(){var t=(0,C.qe)(),e=t.isLoading,n=t.onStartGame,r=t.searchType,o=t.lobbyTime,a=(0,c.$G)(["duels","tournament"]).t;return(0,v.tZ)(i.Fragment,null,(0,v.tZ)($,null,(0,v.tZ)(F,null,(0,v.tZ)(M,null,"1."),a("howToPlay.list.step1",{ns:"tournament"})),(0,v.tZ)(F,null,(0,v.tZ)(M,null,"2."),a("howToPlay.list.step2",{ns:"tournament"})),(0,v.tZ)(F,null,(0,v.tZ)(M,null,"3."),a("howToPlay.list.step3",{ns:"tournament"})),(0,v.tZ)(F,null,(0,v.tZ)(M,null,"4."),a("howToPlay.list.step4",{ns:"tournament"})),(0,v.tZ)(F,null,(0,v.tZ)(M,null,"5."),a("howToPlay.list.step7",{ns:"tournament"})),(0,v.tZ)(F,null,(0,v.tZ)(M,null,"6."),a("howToPlay.list.step5",{ns:"tournament"}))),(0,v.tZ)(Q,null,(0,v.tZ)(N,null,(0,v.tZ)(_.default,{src:"/images/duels/like.svg",layout:"fill",objectFit:"cover"})),(0,v.tZ)(V,null,a("duels.initialPage.button.title",{ns:"duels"})),(0,v.tZ)(W.M,{onStartGame:n,time:o,isLoading:e,showTimer:r===D.i.timer,buttonText:a("gameStart",{ns:"duels"})})))},K=n(85104),X=function(){var t=(0,K.tl)().mobile,e=(0,c.$G)("duels").t;return(0,v.tZ)(i.Fragment,null,(0,v.tZ)(q,null,(0,v.tZ)(_.default,{src:"/images/duels/duelsBackgroundImage.jpg",layout:"fill",objectFit:"cover"}),(0,v.tZ)(H,null,(0,v.tZ)(B,null,e("title")),(0,v.tZ)(J,null),!t&&(0,v.tZ)(I,null))),t&&(0,v.tZ)(I,null))},U=n(59499),Y=n(43265),tt=(0,G.Z)("div",{target:"e123604f2"})("background:#1b1c30;padding-bottom:",(function(t){return t.theme.spacing(3)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{padding-bottom:",(function(t){return t.theme.spacing(4)}),";}"),et=(0,G.Z)(Y.KD,{target:"e123604f1"})("padding-bottom:",(function(t){return t.theme.spacing(3)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{padding-bottom:",(function(t){return t.theme.spacing(4)}),";}"),nt=(0,G.Z)(W.M,{target:"e123604f0"})(""),rt=n(16835),it=n(89211),ot=n(76124),at=n(62996);var ut=(0,G.Z)(ot.u_,{target:"egdditp17"})("border-radius:0;padding:0!important;color:",(function(t){return t.theme.palette.common.white}),";background:#0b0c16;width:100%;max-width:992px;position:relative;:before{content:'';display:block;position:absolute;width:100%;height:400px;background:linear-gradient(\n      0,\n      rgba(23, 30, 43, 0) 0%,\n      rgba(22, 29, 42, 0.85) 71.35%,\n      #161d2a 98.44%,\n      #161d2a 98.45%\n    );}>button{z-index:1;color:",(function(t){return t.theme.palette.common.white}),";:hover{color:",(function(t){return t.theme.palette.gray[400]}),";}}",(function(t){return t.theme.breakpoints.up("md")}),"{:before{height:360px;}}"),ct=(0,G.Z)("div",{target:"egdditp16"})("position:relative;padding:",(function(t){return t.theme.spacing(4,0)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{padding:",(function(t){return t.theme.spacing(4,12,6)}),";}"),st=(0,G.Z)("div",{target:"egdditp15"})({name:"1fttcpj",styles:"display:flex;flex-direction:column"}),lt=(0,G.Z)("p",{target:"egdditp14"})((function(t){return t.theme.typography("h3")}),";text-align:center;text-transform:uppercase;color:",(function(t){return t.theme.palette.brand.main}),";margin-bottom:",(function(t){return t.theme.spacing(2.5)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("h3","md")}),";margin-bottom:",(function(t){return t.theme.spacing(3.5)}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{",(function(t){return t.theme.typography("h3","xl")}),";}"),dt=(0,G.Z)("div",{target:"egdditp13"})("display:grid;grid-template-columns:1fr 1fr;align-items:center;justify-items:center;margin-bottom:",(function(t){return t.theme.spacing(2.5)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{grid-template-columns:1fr 1fr 1fr 1fr 1fr;margin-bottom:",(function(t){return t.theme.spacing(3)}),";}"),pt=(0,G.Z)("span",{target:"egdditp12"})("display:flex;align-items:center;justify-self:center;font-size:14px;line-height:17px;color:",(function(t){return t.theme.palette.common.white}),";:before{flex-shrink:0;content:'';display:block;width:17px;height:17px;margin-right:",(function(t){return t.theme.spacing(2.5)}),";border-radius:50%;",(function(t){var e=t.theme,n=t.success;return"background: ".concat(n?e.palette.success.main:e.palette.brand.main)}),";}",(function(t){return t.theme.breakpoints.up("md")}),"{justify-self:start;:before{margin-right:",(function(t){return t.theme.spacing(3)}),";}}"),mt=(0,G.Z)("span",{target:"egdditp11"})((function(t){return t.theme.typography("h3","xs")}),";text-align:center;color:",(function(t){return t.theme.palette.common.white}),";",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("h3","md")}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{",(function(t){return t.theme.typography("h3","xl")}),";}"),gt=(0,G.Z)("div",{target:"egdditp10"})("position:relative;margin-top:",(function(t){return t.theme.spacing(5)}),";margin-bottom:",(function(t){return t.theme.spacing(2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{margin-top:0;}"),ft=(0,G.Z)("div",{target:"egdditp9"})("min-height:120px;background:#26273f;",(function(t){return t.theme.typography("body1")}),";padding:",(function(t){return t.theme.spacing(2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return t.theme.typography("body1","md")}),";}",(function(t){return t.theme.breakpoints.up("xl")}),"{",(function(t){return t.theme.typography("body1","xl")}),";}"),ht=(0,G.Z)("div",{target:"egdditp8"})("display:flex;flex-direction:column;gap:",(function(t){return t.theme.spacing(1)}),";margin-bottom:",(function(t){return t.theme.spacing(3)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{gap:",(function(t){return t.theme.spacing(2)}),";margin-bottom:",(function(t){return t.theme.spacing(6)}),";}"),bt=(0,G.Z)("div",{target:"egdditp7"})((function(t){return!t.shouldRenderDynamicEditorHeight&&"min-height: 300px;"}),";display:flex;flex-direction:column;gap:",(function(t){return t.theme.spacing(1)}),";margin-bottom:",(function(t){return t.theme.spacing(3)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{flex-direction:row;gap:",(function(t){return t.theme.spacing(2)}),";margin-bottom:",(function(t){return t.theme.spacing(6)}),";}"),yt=(0,G.Z)("div",{target:"egdditp6"})("display:flex;flex-direction:column;gap:",(function(t){return t.theme.spacing(2)}),";margin-bottom:",(function(t){return t.theme.spacing(3)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{margin-bottom:",(function(t){return t.theme.spacing(6)}),";}"),vt=(0,G.Z)("div",{target:"egdditp5"})("display:grid;grid-template-columns:1fr;gap:",(function(t){return t.theme.spacing(2)}),";margin-bottom:",(function(t){return t.theme.spacing(3)}),";justify-self:center;>div,>div:not(:only-of-type):first-of-type,>div:not(:only-of-type):last-of-type{margin:0 auto;}",(function(t){return t.theme.breakpoints.up("md")}),"{",(function(t){return!t.shouldRenderDynamicEditorHeight&&"min-height: 300px;"}),";display:flex;margin-bottom:",(function(t){return t.theme.spacing(6)}),";}"),Zt=(0,G.Z)("div",{target:"egdditp4"})("background:#1b1c30;padding:",(function(t){return t.theme.spacing(2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{padding:",(function(t){return t.theme.spacing(3)}),";}"),wt=(0,G.Z)(ot.zx,{target:"egdditp3"})("display:block;margin:",(function(t){return t.theme.spacing(0,"auto",2)}),";",(function(t){return t.theme.breakpoints.up("md")}),"{margin-bottom:",(function(t){return t.theme.spacing(3)}),";}"),kt=(0,G.Z)("div",{target:"egdditp2"})("display:flex;flex-direction:column;align-items:center;gap:32px;",(function(t){return t.theme.breakpoints.up("md")}),"{flex-direction:row;gap:0;justify-content:space-between;}"),xt=(0,G.Z)("div",{target:"egdditp1"})({name:"je8g23",styles:"pointer-events:none"}),Ot=(0,G.Z)(at.B,{target:"egdditp0"})((function(t){return t.theme.breakpoints.up("md")}),"{margin-left:auto;}"),Tt=n(42992),Pt=function(t){var e=t.correctAnswer,n=t.userAnswer;return(0,v.tZ)(xt,null,(0,v.tZ)(ht,null,null===n||void 0===n?void 0:n.answers.map((function(t){var r,i,o,a=t.id,u=t.html,c=a===(null===e||void 0===e?void 0:e.answer),s=(null===n||void 0===n||null===(r=n.params)||void 0===r||null===(i=r.answers)||void 0===i?void 0:i[0])===a||c;return(0,v.tZ)(Tt.J,{key:a,id:a,success:c,type:"checkbox",shouldRenderEditor:!1,editorLanguage:null===(o=n.task.task.metadata)||void 0===o?void 0:o.answerEditorType,checked:s,text:u,code:u})}))))},jt=function(t){var e=t.correctAnswer,n=t.userAnswer,r=(0,c.$G)("duels").t;return(0,v.tZ)(xt,null,(0,v.tZ)(bt,{shouldRenderDynamicEditorHeight:!0},null===n||void 0===n?void 0:n.answers.map((function(t){var i,o,a,u=t.id,c=t.html,s=t.order,l=u===(null===e||void 0===e?void 0:e.answer),d=(null===n||void 0===n||null===(i=n.params)||void 0===i||null===(o=i.answers)||void 0===o?void 0:o[0])===u||l;return(0,v.tZ)(Tt.J,{key:u,id:u,success:l,type:"checkbox",shouldRenderEditor:!0,editorLanguage:null===(a=n.task.task.metadata)||void 0===a?void 0:a.answerEditorType,checked:d,text:"".concat(r("variant")," ").concat(s),code:c})}))))},At=n(45898),Ct=function(t){var e=t.correctAnswer,n=t.userAnswer,r=Array.isArray(null===e||void 0===e?void 0:e.answer)?e.answer:[],i=Array.isArray(null===n||void 0===n?void 0:n.params.answers)?n.params.answers:[];return(0,v.tZ)(xt,null,(0,v.tZ)(yt,null,(0,v.tZ)(Zt,null,(0,v.tZ)(At.E5,null,i.map((function(t,e){return(0,v.tZ)(At.BL,{key:e},t)})))),(0,v.tZ)(Zt,null,(0,v.tZ)(At.E5,{isCorrectOrder:!0},r.map((function(t,e){return(0,v.tZ)(At.BL,{key:e},t)}))))))},St=n(24780),Dt=n(40494),Et=(0,G.Z)(Dt.M,{target:"e1osan3x2"})((function(t){return!t.shouldRenderDynamicEditorHeight&&"height: 440px;"})," ",(function(t){return t.theme.breakpoints.up("md")}),"{width:100%;height:100%;}"),Gt=(0,G.Z)("div",{target:"e1osan3x1"})("display:flex;align-items:center;justify-content:space-between;padding:",(function(t){return t.theme.spacing(1,1,1,2)}),";",(function(t){return t.theme.typography("body1")}),";color:",(function(t){return t.theme.palette.common.white}),";background:#1b1c30;"),Rt=(0,G.Z)("div",{target:"e1osan3x0"})("width:24px;height:24px;border-radius:50%;position:relative;display:flex;align-items:center;justify-content:center;background:",(function(t){var e=t.theme;return t.success?e.palette.success.main:e.palette.brand.main}),";");function _t(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Lt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?_t(Object(n),!0).forEach((function(e){(0,U.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):_t(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var zt=function(t){var e=t.tab,n=t.success,r=t.correctCode,o=(0,K.tl)().mobile,a=(0,c.$G)("duels").t,u=o;return o?(0,v.tZ)(i.Fragment,null,(0,v.tZ)(Et,{shouldRenderDynamicEditorHeight:u,language:e.language,code:null!==r&&void 0!==r?r:e.code,positionCursor:[0,0],readOnly:!0,isDynamicHeight:u},u&&(0,v.tZ)(Gt,null,a("selfVariant"),(0,v.tZ)(Rt,{success:n},(0,v.tZ)(_.default,{src:"/images/duels/game/checkbox.svg",width:12,height:12})))),!u&&(0,v.tZ)(Gt,null,a("selfVariant"),(0,v.tZ)(Rt,{success:n},(0,v.tZ)(_.default,{src:"/images/duels/game/checkbox.svg",width:12,height:12})))):(0,v.tZ)(Dt.M,{language:e.language,code:null!==r&&void 0!==r?r:e.code,positionCursor:[0,0],readOnly:!0,isDynamicHeight:u})},qt=function(t){var e,n=t.correctAnswer,r=t.codeTabs,i=(0,K.tl)().mobile,o=i,a="object"===typeof(e=null===n||void 0===n?void 0:n.answer)&&null!==e&&"correctCode"in e?n.answer.correctCode:"",u=r.map((function(t){return{tab:t.tab,name:t.name,showTab:t.showTab,readOnly:t.readOnly,language:t.language,code:t.code,content:(0,v.tZ)(zt,{tab:t})}})),c=u.map((function(t){return t.showTab&&!t.readOnly?Lt(Lt({},t),{},{content:(0,v.tZ)(zt,{tab:t,correctCode:a,success:!0})}):t}));return(0,v.tZ)(vt,{shouldRenderDynamicEditorHeight:o},(0,v.tZ)(St.T,{isDynamicHeight:i,isOpenHint:i,tabs:u}),(0,v.tZ)(St.T,{isDynamicHeight:i,success:!0,isOpenHint:i,tabs:c}))};function Ht(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Bt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ht(Object(n),!0).forEach((function(e){(0,U.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ht(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var It=function(t){var e=t.correctAnswer,n=t.userAnswer,r=t.codeTabs,i=null===e||void 0===e?void 0:e.taskType;return"quiz"===i?(0,v.tZ)(Pt,{correctAnswer:e,userAnswer:n}):"select"===i?(0,v.tZ)(jt,{correctAnswer:e,userAnswer:n}):"puzzle"===i?(0,v.tZ)(Ct,{correctAnswer:e,userAnswer:n}):(0,v.tZ)(qt,{codeTabs:r,userAnswer:n,correctAnswer:e})},$t=function(t){var e,n,r,o,a,s=t.gameOverInfo,l=t.tasksAnswers,p=t.codeTabs,g=t.onStartGame,f=(0,K.tl)().mobile,h=(0,c.$G)("duels").t,b=(0,k.useRouter)(),y=b.query,Z=b.pathname,w=b.replace,x=(0,it.Z)(!1),O=(0,rt.Z)(x,2),T=O[0],P=O[1],j=(0,i.useCallback)((0,d.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:P(!1);case 1:case"end":return t.stop()}}),t)}))),[P]),A=(0,i.useCallback)((0,d.Z)(m().mark((function t(){return m().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,j();case 2:g();case 3:case"end":return t.stop()}}),t)}))),[j,g]),C=null!==(e=(0,E.P)(y,"page"))&&void 0!==e?e:1,S=null!==(n=null===s||void 0===s||null===(r=s.correctAnswers)||void 0===r?void 0:r[C-1])&&void 0!==n?n:null===s||void 0===s||null===(o=s.correctAnswers)||void 0===o?void 0:o[0],D=null===S||void 0===S?void 0:S.taskType,G=null===l||void 0===l?void 0:l[D],R=Boolean(!(null!==s&&void 0!==s&&s.correctAnswers.length)),_=(0,i.useCallback)((function(){w({pathname:Z,query:Bt(Bt({},y),{},{page:1})}).then((function(){P(!0)}))}),[Z,y,w,P]);return R?null:(0,v.tZ)(i.Fragment,null,(0,v.tZ)(wt,{color:"secondary",onClick:_},h("parseErrors")),(0,v.tZ)(ut,{isOpen:T,onClose:j},(0,v.tZ)(ct,null,(0,v.tZ)(st,null,(0,v.tZ)(lt,null,h("parsingErrors")),(0,v.tZ)(dt,null,(0,v.tZ)(pt,null,h("yourAnswer")),(0,v.tZ)(pt,{success:!0},h("correctAnswer")),!f&&(0,v.tZ)(mt,null,h("task")," ",null!==(a=null===G||void 0===G?void 0:G.order)&&void 0!==a?a:1)),(0,v.tZ)(gt,null,f&&(0,v.tZ)(u.h,null),(0,v.tZ)(ft,{dangerouslySetInnerHTML:{__html:(null===G||void 0===G?void 0:G.condition)||"\u041d\u0435\u0442 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u044f"}})),(0,v.tZ)(It,{codeTabs:p,correctAnswer:S,userAnswer:G})),(0,v.tZ)(kt,null,(0,v.tZ)(ot.tl,{page:C,count:null===s||void 0===s?void 0:s.correctAnswers.length}),(0,v.tZ)(Ot,{onDuelsButtonClick:A,pending:!1,iconsCount:2},h("playMore"))))))};function Ft(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable}))),n.push.apply(n,r)}return n}function Mt(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{};e%2?Ft(Object(n),!0).forEach((function(e){(0,U.Z)(t,e,n[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ft(Object(n)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(n,e))}))}return t}var Qt=function(t){var e=t.codeTabs,n=t.tasksAnswers,r=(0,C.qe)(),o=r.isLoading,a=r.onStartGame,u=r.searchType,s=r.lobbyTime,l=r.gameOverInfo,d=(0,k.useRouter)(),p=d.pathname,m=d.query,g=d.replace,f=(0,c.$G)("duels").t;return(0,i.useEffect)((function(){"view"in m||g({pathname:p,query:Mt(Mt({},j()(m,["tab"])),{},{view:"results"})})}),[p,m,g]),(0,v.tZ)(tt,null,(0,v.tZ)(et,null),(0,v.tZ)($t,{onStartGame:a,codeTabs:e,gameOverInfo:l,tasksAnswers:n}),(0,v.tZ)(nt,{onStartGame:a,time:s,isLoading:o,showTimer:u===D.i.timer,buttonText:f("playMore")}))},Nt=function(){var t=function(){var t=(0,s.useQueryClient)(),e=(0,k.useRouter)(),n=e.events,r=e.query,o=e.replace,a=e.pathname,u=(0,C.qe)(),c=u.isGamePlay,d=u.searchType,p=u.onSocketDisconnect,m=u.nextTask,g=u.gameInfo,f=u.gameOverInfo,h=u.wsClient,b=u.isConnected,y=u.onStartGame,v=u.gameCreated,Z=u.handleRefreshSocket,w=(0,S.G$)(),O=w.onSendSolution,P=w.codeTabs,G=w.browserTabs,R=w.isSendTaskLoading,_=w.answers,L=w.onCheckBoxChange,z=w.onPuzzleChange,q=w.shuffledAnswerVariants,H=w.tasksAnswers;(0,i.useEffect)((function(){var e=function(e){e.endsWith("duels")&&d!==D.i.timer&&d!==D.i.game&&Z().then((function(){t.invalidateQueries(l.S8.DuelsRating)})).catch((function(t){return x.ZP.error(t.message)}))};return n.on("routeChangeStart",e),function(){n.off("routeChangeStart",e)}}),[n,Z,t,d]);var B=d===D.i.playAgain||"results"===(0,E.K)(r,"view")&&d===D.i.timer,I=(0,i.useCallback)((function(e){var n,r=e.method,i=e.params;"gameOver"===r&&(null===(n=i.opponentTasksStatistic)||void 0===n?void 0:n.length)&&i.youTasksStatistic.length&&p().then((function(){T()((function(){t.invalidateQueries(l.S8.DuelsRating),t.invalidateQueries(l.S8.Tournament)}),1e3)}))}),[p,t]);return(0,i.useEffect)((function(){if(b){var t=h.current;return null===t||void 0===t||t.on(I),function(){null===t||void 0===t||t.off(I)}}}),[I,b,h]),(0,A.Z)((function(){o({pathname:a,query:j()(r,["view","page"])})})),{isGamePlay:c,nextTask:m,gameInfo:g,gameOverInfo:f,onSendSolution:O,codeTabs:P,browserTabs:G,isSendTaskLoading:R,answers:_,onCheckBoxChange:L,onPuzzleChange:z,shuffledAnswerVariants:q,isResultsPage:B,tasksAnswers:H,onStartGame:y,gameCreated:v}}(),e=t.isGamePlay,n=t.gameInfo,r=t.codeTabs,c=t.browserTabs,d=t.isSendTaskLoading,p=t.nextTask,m=t.answers,g=t.onCheckBoxChange,f=t.onPuzzleChange,h=t.shuffledAnswerVariants,b=t.onSendSolution,y=t.isResultsPage,O=t.tasksAnswers,P=t.gameCreated;return e?(0,v.tZ)(o.T,null,(0,v.tZ)(a.Q,{gameInfo:n,duelTask:p}),(0,v.tZ)(u.k,{gameCreated:P,duelTask:p,onSendSolution:b,isSendTaskLoading:d}),(0,v.tZ)(w.r,{gameCreated:P,shuffledAnswerVariants:h,onPuzzleChange:f,onCheckBoxChange:g,answers:m,nextTask:p,codeTabs:r,browserTabs:c})):(0,v.tZ)(R,null,y?(0,v.tZ)(Qt,{codeTabs:r,tasksAnswers:O}):(0,v.tZ)(X,null),(0,v.tZ)(Z,null))},Vt=function(){return(0,v.tZ)(C.Wh,null,(0,v.tZ)(Nt,null))},Wt=n(64521),Jt=n(47498),Kt=n(139),Xt=n(25907),Ut=n(88980),Yt=!0,te=(0,Xt.f3)((function(){var t=(0,c.$G)("duels").t,e=(0,Jt.b)();return(0,v.tZ)(i.Fragment,null,(0,v.tZ)(r.default,null,(0,v.tZ)("title",null,t("duels")),(0,v.tZ)("link",{rel:"icon",href:"/favicon.ico"})),(0,v.tZ)(Wt.C,null),!e&&(0,v.tZ)(Kt.x,null),(0,v.tZ)(Vt,null))}))(Ut.ZP)},20114:function(t,e,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/duels",function(){return n(59007)}])}},function(t){t.O(0,[2013,1228,9898,7442,8707,4521,7302,1365,2387,9774,2888,179],(function(){return e=20114,t(t.s=e);var e}));var e=t.O();_N_E=e}]);